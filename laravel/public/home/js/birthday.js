(function(a){a.fn.birthday=function(j){var f=new Date();var p=f.getFullYear();var e=(f.getMonth()+1);var r=f.getDate();var k={yearSelector:a("select[name=year]"),monthSelector:a("select[name=month]"),daySelector:a("select[name=day]"),year:0,month:0,day:0};var b=a.extend({},k,j);var n=a(b.yearSelector);var m=a(b.monthSelector);var i=a(b.daySelector);var o=parseInt(b.year);var h=parseInt(b.month);var q=parseInt(b.day);var c=function(s){a(s).parent().find(".select_label span").html(a(s).find("option:selected").text())};var l=function(){n.html("");if(o==0){n.append('<option value="0" selected>\u8bf7\u9009\u62e9</option>')}else{n.append('<option value="0">\u8bf7\u9009\u62e9</option>')}for(var t=p;t>=1900;t--){var s=(o==t)?"selected":"";n.append('<option value="'+t+'" '+s+">"+t+"</option>")}c(n);d()};var d=function(){m.html("");if(h==0){m.append('<option value="0" selected>\u8bf7\u9009\u62e9</option>')}else{m.append('<option value="0">\u8bf7\u9009\u62e9</option>')}for(var t=1;t<=12;t++){var s=h==t?"selected":"";t=(t<10?"0":"")+t;m.append('<option value="'+t+'" '+s+">"+t+"</option>")}c(m);g()};var g=function(){i.html("");if(q==0){i.append('<option value="0" selected>\u8bf7\u9009\u62e9</option>')}else{i.append('<option value="0">\u8bf7\u9009\u62e9</option>')}var u=parseInt(n.val());var w=parseInt(m.val());var v=0;switch(w){case 1:case 3:case 5:case 7:case 8:case 10:case 12:v=31;break;case 4:case 6:case 9:case 11:v=30;break;case 2:v=28;if((u%4==0)&&(u%100!=0)||(u%400==0)){v=29}break;default:break}for(var t=1;t<=v;t++){var s=q==t?"selected":"";t=(t<10?"0":"")+t;i.append('<option value="'+t+'" '+s+">"+t+"</option>")}c(i)};l();n.on("change",function(s){s.preventDefault();g()});m.on("change",function(s){s.preventDefault();g()})}}(jQuery));
